<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:rich="http://richfaces.org/rich">
    <s:div rendered="#{productionPlanningAction.showReprocessedProduct}">
        <table style="width:100%">
            <tr>
                <td style="width:70%">
                    <rich:dataTable value="#{productionOrderForPlanning.orderInputs}"
                                    var="productionIngredientItem"
                                    styleClass="formRow" width="100%">
                        <f:facet name="header">
                            <rich:columnGroup>
                                <rich:column>
                                    #{messages['ProductionPlanning.inputName']}
                                </rich:column>
                                <rich:column>
                                    #{messages['ProductionOrder.productionInput.measureUnit']}
                                </rich:column>
                                <rich:column>
                                    #{messages['ProductionPlanning.inputAmount']}
                                </rich:column>
                                <rich:column>
                                    #{messages['ProductionOrder.productionInput.amountWareHouse']}
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                        <rich:column>
                            <h:outputText value="#{productionIngredientItem.productItem.name}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{productionIngredientItem.productItem.usageMeasureCode}"/>
                        </rich:column>
                        <rich:column>
                            <h:inputText value="#{productionIngredientItem.amount}"
                                         styleClass="input"
                                         disabled="#{!productionPlanningAction.isParameterized(productionIngredientItem.productItem)}">
                                <a4j:support event="onblur" ajaxSingle="false" reRender="formulaSet"
                                             actionListener="#{productionPlanningAction.evaluateParameterizedExpressionActionListener(productionIngredientItem)}"/>
                            </h:inputText>
                        </rich:column>
                        <rich:column
                                styleClass="#{productionPlanningAction.verifAmountInput(productionIngredientItem)?'labelInfo':'labelAlarm'}">
                            <h:outputText value="#{productionIngredientItem.amountStock}">
                                <f:convertNumber pattern="#{messages['patterns.decimalNumber']}"/>
                            </h:outputText>
                        </rich:column>

                    </rich:dataTable>
                </td>
                <td style="width:30%; vertical-align: bottom; text-align: right;">
                    <s:div>
                       <!-- <a4j:commandButton id="addInnerButton" action="#{productionPlanningAction.addFormulation}"
                                           value="#{messages['ProductionPlanning.innerButtonAdd']}"
                                           reRender="productionList,formulaSet,ruleBotton2,ruleBotton1"
                                           rendered="#{productionPlanningAction.formulaState eq 'NEW' and productionOrderForPlanning.estateOrder != 'EXECUTED' and productionPlanningAction.dispobleBalance}"/>

                        <a4j:commandButton id="updateInnerButton" action="#{productionPlanningAction.updateFormulation}"
                                           value="#{messages['ProductionPlanning.innerButtonUpdate']}"
                                           reRender="productionList,formulaSet,ruleBotton2,ruleBotton1"
                                           rendered="#{productionPlanningAction.formulaState eq 'EDIT' and productionOrderForPlanning.estateOrder != 'EXECUTED' and productionPlanningAction.dispobleBalance}"/>
                        <a4j:commandButton
                                value="#{messages['ProductionPlanning.innerButtonRemove']}"
                                reRender="productionList,formulaSet,ruleBotton2,ruleBotton1"
                                rendered="#{productionPlanningAction.formulaState eq 'EDIT' and productionOrderForPlanning.estateOrder != 'EXECUTED'}">
                            <rich:componentControl for="deleteOrderConfirmation" event="onclick" disableDefault="true"
                                                   operation="show"/>
                        </a4j:commandButton>-->
                        <a4j:commandButton  action="#{productionPlanningAction.setShowReprocessedProduct(false)}"
                                           ajaxSingle="true"
                                           value="#{messages['ProductionPlanning.innerButtonCancel']}"
                                           reRender="formulaSet"/>
                    </s:div>
                </td>
            </tr>
        </table>
    </s:div>

    </ui:composition>